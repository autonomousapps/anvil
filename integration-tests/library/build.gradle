apply plugin: 'org.jetbrains.kotlin.jvm'
apply plugin: 'com.squareup.anvil'

if (rootProject.ext.generateDaggerFactoriesWithAnvil) {
  anvil {
    generateDaggerFactories = true
  }
} else {
  apply plugin: 'org.jetbrains.kotlin.kapt'

  dependencies {
    kapt deps.dagger2.compiler
  }
}

kotlin {
  explicitApi()
}

dependencies {
  api deps.dagger2.dagger
}

// TODO: remove with Kotlin 1.6.
if (rootProject.ext.kotlinVersion.startsWith("1.6")) {
  sourceSets.main.java.srcDirs += ['src/main/kotlin-1-6']
}

